<?xml version="1.0"?>
<!DOCTYPE database SYSTEM "http://db.apache.org/torque/dtd/database">
  <database name="ProgramD">
    <table name="bot_file">
      <column name="bot_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="file_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <index name="bot_id">
        <index-column name="bot_id"/>
      </index>
      <index name="file_id">
        <index-column name="file_id"/>
      </index>
    </table>
    <table name="bot_user">
      <column name="bot_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="user_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
    </table>
    <table name="botidnode_file">
      <column name="botidnode_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="file_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <index name="botidnode_id">
        <index-column name="botidnode_id"/>
      </index>
      <index name="file_id">
        <index-column name="file_id"/>
      </index>
    </table>
    <table name="bot">
      <column name="id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="true"/>
      <column name="label" primaryKey="false" required="true" type="VARCHAR" size="128" autoIncrement="false"/>
    </table>
    <table name="edge">
      <column name="from_node_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="label" primaryKey="false" required="false" type="LONGVARCHAR" size="65535" autoIncrement="false"/>
      <column name="to_node_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <index name="from_node_id">
        <index-column name="from_node_id"/>
      </index>
      <index name="to_node_id">
        <index-column name="to_node_id"/>
      </index>
      <index name="from_node_id_to_node_id">
        <index-column name="from_node_id"/>
        <index-column name="to_node_id"/>
      </index>
      <index name="label">
        <index-column name="label"/>
      </index>
      <index name="from_node_id_label">
        <index-column name="from_node_id"/>
        <index-column name="label"/>
      </index>
    </table>
    <table name="exchange">
      <column name="id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="true"/>
      <column name="timestamp" primaryKey="false" required="true" type="TIMESTAMP" size="19" default="CURRENT_TIMESTAMP" autoIncrement="false"/>
      <column name="user_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="bot_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="input" primaryKey="false" required="true" type="LONGVARCHAR" size="65535" autoIncrement="false"/>
      <column name="response" primaryKey="false" required="true" type="LONGVARCHAR" size="65535" autoIncrement="false"/>
      <index name="user_id">
        <index-column name="user_id"/>
      </index>
      <index name="bot_id">
        <index-column name="bot_id"/>
      </index>
    </table>
    <table name="file_node">
      <column name="file_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="node_id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <index name="file_id">
        <index-column name="file_id"/>
      </index>
    </table>
    <table name="file">
      <column name="id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="true"/>
      <column name="path" primaryKey="false" required="true" type="VARCHAR" size="512" autoIncrement="false"/>
      <column name="last_loaded" primaryKey="false" required="true" type="TIMESTAMP" size="19" autoIncrement="false"/>
    </table>
    <table name="node_template">
      <column name="node_id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="template_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <index name="template_id">
        <index-column name="template_id"/>
      </index>
    </table>
    <table name="node">
      <column name="id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="true"/>
    </table>
    <table name="predicate">
      <column name="user_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="bot_id" primaryKey="false" required="true" type="INTEGER" size="10" autoIncrement="false"/>
      <column name="name" primaryKey="false" required="true" type="VARCHAR" size="128" autoIncrement="false"/>
      <column name="value" primaryKey="false" required="true" type="LONGVARCHAR" size="65535" autoIncrement="false"/>
      <unique name="unique_predicates">
        <unique-column name="user_id"/>
        <unique-column name="bot_id"/>
        <unique-column name="name"/>
      </unique>
      <index name="user_id">
        <index-column name="user_id"/>
      </index>
      <index name="bot_id">
        <index-column name="bot_id"/>
      </index>
    </table>
    <table name="template">
      <column name="id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="true"/>
      <column name="text" primaryKey="false" required="false" type="LONGVARCHAR" size="65535" autoIncrement="false"/>
    </table>
    <table name="user">
      <column name="id" primaryKey="true" required="true" type="INTEGER" size="10" autoIncrement="true"/>
      <column name="name" primaryKey="false" required="true" type="VARCHAR" size="128" autoIncrement="false"/>
      <column name="password" primaryKey="false" required="false" type="VARCHAR" size="128" autoIncrement="false"/>
    </table>
  </database>
